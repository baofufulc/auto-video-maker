<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI短视频生成器</title>
  <style>
    body { 
      font-family: '微软雅黑', sans-serif; 
      background: linear-gradient(to bottom, #1e1e2f, #111);
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    textarea {
      width: 90%;
      height: 120px;
      padding: 10px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      outline: none;
      resize: none;
    }
    button {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    video {
      width: 100%;
      border-radius: 10px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>🎬 自动AI短视频生成器</h2>
  <p>输入一段文字，自动生成带中文男声语音和背景视频</p>

  <textarea id="textInput" placeholder="例如：我拼命赚钱，因为我没有背景，也没有依靠……"></textarea><br>
  <button onclick="generateVideo()">生成视频</button>

  <video id="outputVideo" controls></video>

  <script>
    async function generateVideo() {
      const text = document.getElementById("textInput").value.trim();
      if (!text) {
        alert("请输入文字内容！");
        return;
      }

      alert("🎥 正在生成视频，请稍候...");

      // 背景视频：自动选择城市或自然风景
      const backgrounds = [
        "https://cdn.coverr.co/videos/coverr-sunrise-over-the-city-9071/1080p.mp4",
        "https://cdn.coverr.co/videos/coverr-green-mountain-forest-1570/1080p.mp4",
        "https://cdn.coverr.co/videos/coverr-night-city-streets-1910/1080p.mp4",
        "https://cdn.coverr.co/videos/coverr-clouds-and-sunset-8244/1080p.mp4"
      ];
      const bgVideo = backgrounds[Math.floor(Math.random() * backgrounds.length)];

      // 中文男声语音（浏览器TTS）
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'zh-CN';
      utterance.pitch = 1;
      utterance.rate = 1;
      utterance.voice = speechSynthesis.getVoices().find(v => v.lang === 'zh-CN');
      speechSynthesis.speak(utterance);

      // 显示背景视频
      const videoElement = document.getElementById("outputVideo");
      videoElement.src = bgVideo;
      videoElement.play();
    }
  </script>
</body>
</html>
